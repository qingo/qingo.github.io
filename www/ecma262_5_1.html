<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no'>
  <link rel='shortcut icon' href='/img/q.ico'>
  <title>Qingo'blog|小前端真不小</title>
  <link rel="stylesheet" href="/bower_components/elyts/dist/minified/css/elyts.css"/>
</head>
<body><section><article><p></p><article><header><h1><a href="ecma262_5_1/15_9 Date Objects 日期对象(翻译).html">15_9 Date Objects 日期对象(翻译)</a></h1></header><section><p><h1 id="date-objects">Date Objects</h1>
<h1 id="-">日期对象</h1>
<h2 id="overview-of-date-objects-and-definitions-of-abstract-operators">Overview of Date Objects and Definitions of Abstract Operators</h2>
<p>The following functions are abstract operations that operate on time values
(defined in 15.9.1.1). Note that, in every case, if any argument to one of these functions is NaN,
the result will be NaN.</p>
<h2 id="-">概述日期对象和抽象的操作者的定义</h2>
<p>下面的函数是操作日期值（在15.9.1.1中定义的）的抽象操作。
注意：在每种场景中，如果某一个函数中的任意参数为NaN，那么结果也将为NaN.</p>
<h3 id="time-values-and-time-range">Time Values and Time Range</h3>
<p>A Date object contains a Number indicating a particular instant in time to within a millisecond.
Such a Number is called a time value.
A time value may also be NaN, indicating that the Date object does not represent a specific instant of time.</p>
<p>Time is measured in ECMAScript in milliseconds since 01 January, 1970 UTC.
In time values leap seconds are ignored.
It is assumed that there are exactly 86,400,000 milliseconds per day.
ECMAScript Number values can represent all integers form -9,007,199,254,740,992 to 9,007,254,740,993;
this range suffices to measure times to millisecond precision for any instant that is within approximately 285,616 years,
forward or backward, from 01 January,1970 UTC.</p>
<p>The actual range of times supported by ECMAScript Date objects is slightly smaller:
exactly -100,000,000 days to 100,000,000 days measures relative to midnight at the beginning of 01 January, 1970 UTC.
This gives a range of 8,640,000,000,000,000 milliseconds to either side of 01 January,1970 UTC.</p>
<p>The exact moment of midnight at the beginning of 01 January,1970 UTC is represented by the value +0.</p>
<h3 id="-">时间值和时间取值范围</h3>
<p>一个日期对象包含一个表示精确到毫秒的时间点的数字。
这个数字被称作为时间值。
时间值也可以为NaN，表示这个时间对象没有代表一个特定的时间点。</p>
<p>在ECMAScript中，时间从时间标准时间1970年一月开始以毫秒为单位被计量的。
在时间值中闰秒被忽略。
假设每天恰好是864000000毫秒。
ECMAScript 数字值可以由-9007199254740992到9007199254740993的所有整数来表示，
这个范围足够计量时间到世界标准时间1970年一月一日前后大约285616年内的精确到每毫秒的时间点。</p>
<p>ECMAScript日期对象支持的真实时间范围略小一点：
准确的为：相对于世界时间一月一日开始的午夜的-100000000天到100000000天。
这提供了世界标准时间1970年一月一日两侧的8640000000000000毫秒。</p>
<p>世界标准时间1970年一月一日开始的午夜那一确切的时刻表示的值为+0。</p>
<h3 id="day-number-and-time-within-day">Day Number and Time within Day</h3>
<p>A given time value <code>t</code> belongs to day number
                <code>Day(t) = floor(t/msPerDay)</code>
where the number of milliseconds per day is
                <code>msPerDay = 86400000</code>
The remainder is called the time within the day:
                <code>TimeWithinDay(t) = t modulo msPerDay</code></p>
<h3 id="-">天数和一天内的时间</h3>
<p>给定时间值<code>t</code>有多少天
            <code>Day(t) = floor(t / msPerDay)</code>
每天多少毫秒数：
            <code>msPerDa = 86400000</code>
被访问的时间在一天内的剩余数：
            <code>TimeWithinDay(t) = t modulo msPerDay</code></p>
<h3 id="year-number">Year Number</h3>
<p>ECMAScript uses an extrapolated Gregorian system to map a day number to a year number
and to determine the month and date within that year.
In this system, leap years are precisely those which are (divisible by 4)
and ((not divisible by 100) or (divisible by 400)）.
The number of days in year number <code>y</code> is therefore defined by</p>
<pre><code>        DaysInYear(y)   = 365 if (y modulo 4) != 0
                        = 366 if (y modulo 4) = 0 and (y modulo 100) !=0
                        = 365 if (y modulo 100) = 0 and (y modulo 400) != 0
                        = 366 if (y module 400) = 0
</code></pre><p>All non-leap years have 365 days with the usual number of days per month
and leap years have an extra day in February.
The day number of the first day of year <code>y</code> is given by:
<code>DayFromYear(y) = 365 x (y - 1970) + floor((y - 1969)/4) - floor((y-1901)/100) + floor((y - 1601)/400)</code>
The time value of the start of a year is:
<code>TimeFromYear(y) = msPerDay x DayFromYear(y)</code>
A time value determines a year by:
<code>YearFromTime(t) = the largest integer y (closest to positive infinity) such that TimeFromYear(y)&lt;=t</code>
The leap-year function is 1 for a time within a leap year and otherwise is zero:
<code>InLeapYear(t)   = 0 if DaysInYear(YearFromTime(t)) = 365
                        = 1 if DaysInYear(YearFromTime(t)) = 366</code></p>
<h3 id="-">年数</h3>
<p>ECMAScript 使用 格林系统推算天数到年数的演算，判定在这一年中某月的天数。
在这个系统中，闰年是精确的，可以被4整除的数种，不能被100整除或者可以被400整除的数。
在年数<code>y</code>中的天数可以被这样定义：</p>
<pre><code>        DaysInYear(y)   = 365 if (y modulo 4) != 0
                        = 366 if (y modulo 4) = 0 and (y modulo 100) != 0
                        = 365 if (y modulo 100) = 0 and (y modulo 400) !=0
                        = 366 if (y modulo 400) = 0
</code></pre><p>所用的非闰年都有365天，它的每个月多是正常的天数，闰年在二月份会多出一天。
年<code>y</code>的第一天的天数可以这么得出：
<code>DayFromYear(y) = 365 x (y -1970) + floor((y-1969)/4) - floor ((y - 1901)/100) + floor((y - 1601)/400)</code>
一年开始的的时间值为：
<code>TimeFormYear(y) = msPerDay x DayFromYear(y)</code>
确定一个时间值在哪一年中：
<code>YearFromTime(t) = the largest integer y (closest to positive infinity) such that TimeFromYear(y)&lt;=t</code>
一个时间点在闰年中函数值为1否则为0：
<code>InLeapYear(t)   = 0 if DayInYear(YearFromTime(t)) = 365
                        = 1 if DayInYear(YearFromTime(t)) = 366</code></p>
<h3 id="month-number">Month Number</h3>
<p>Months are identified by integer in the range 0 to 11, inclusive.
The mapping MonthFromTime(t) from a time value <code>t</code> to a month number is defined by:</p>
<pre><code>        MonthFromTime(t) = 0 if 0                       &lt;= DayWithinYear(t) &lt; 31
                         = 1 if 31                      &lt;= DayWithinYear(t) &lt; 59 + InLeapYear(t)
                         = 2 if 59 + InLeapYear(t)      &lt;= DayWithinYear(t) &lt; 90 + InLeapYear(t)
                         = 3 if 90 + InLeapYear(t)      &lt;= DayWithinYear(t) &lt; 120 + InLeapYear(t)
                         = 4 if 120 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 151 + InLeapYear(t)
                         = 5 if 151 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 181 + InLeapYear(t)
                         = 6 if 181 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 212 + InLeapYear(t)
                         = 7 if 212 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 243 + InLeapYear(t)
                         = 8 if 243 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 273 + InLeapYear(t)
                         = 9 if 273 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 304 + InLeapYear(t)
                         = 10 if 304 + InLeapYear(t)    &lt;= DayWithinYear(t) &lt; 334 + InLeapYear(t)
                         = 11 if 334 + InLeapYear(t)    &lt;= DayWithinYear(t) &lt; 365 + InLeapYear(t)
</code></pre><p>where
<code>DayWithinYear(t) = Day(t) - DayFromYear(YearFromTime(t))</code>
A month value of 0 specifies January; 1 specifies February; 2 specifies March;
3 specifies April; 4 specifies May; 5 specifies June; 6 specifies July;
7 specifies August; 8 specifies September; 9 specifies October;
10 specifies November; and 11 specifies December.
Note that MonthFromTime(0) = 0,corresponding to Thursday,01 January, 1970.</p>
<h3 id="-">月数</h3>
<p>月是由0到11包括的的整数标识。
一个时间值<code>t</code>的映射到一个月数的MonthFromTime(t)的定义为：</p>
<pre><code>        MonthFromTime(t) = 0 if 0                       &lt;= DayWithinYear(t) &lt; 31
                         = 1 if 31                      &lt;= DayWithinYear(t) &lt; 59 + InLeapYear(t)
                         = 2 if 59 + InLeapYear(t)      &lt;= DayWithinYear(t) &lt; 90 + InLeapYear(t)
                         = 3 if 90 + InLeapYear(t)      &lt;= DayWithinYear(t) &lt; 120 + InLeapYear(t)
                         = 4 if 120 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 151 + InLeapYear(t)
                         = 5 if 151 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 181 + InLeapYear(t)
                         = 6 if 181 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 212 + InLeapYear(t)
                         = 7 if 212 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 243 + InLeapYear(t)
                         = 8 if 243 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 273 + InLeapYear(t)
                         = 9 if 273 + InLeapYear(t)     &lt;= DayWithinYear(t) &lt; 304 + InLeapYear(t)
                         = 10 if 304 + InLeapYear(t)    &lt;= DayWithinYear(t) &lt; 334 + InLeapYear(t)
                         = 11 if 334 + InLeapYear(t)    &lt;= DayWithinYear(t) &lt; 365 + InLeapYear(t)
</code></pre><p>月值0代表一月，1代表二月，2代表三月，3代表四月，4代表五月，5代表六月，6代表七月，7代表八月，8代表九月，9代表10月，10代表十一月，11代表十二月。
注意：<code>MonthFromTime(0) = 0</code>,对应1970年一月一日星期四。</p>
<h3 id="date-number">Date Number</h3>
<p>A date number is identified by an integer in the range 1 through 31, inclusive.
The mapping DateFromTime(t) from a time value <code>t</code> to a month number is defined by:</p>
<pre><code>        DateFromTime(t) = DayWithinYear(t) + 1                      if MonthFromTime(t) = 0
                        = DayWithinYear(t) - 30                     if MonthFromTime(t) = 1
                        = DayWithinYear(t) - 58 - InLeapYear(t)     if MonthFromTime(t) = 2
                        = DayWithinYear(t) - 89 - InLeapYear(t)     if MonthFromTime(t) = 3
                        = DayWithinYear(t) - 119 - InLeapYear(t)    if MonthFromTime(t) = 4
                        = DayWithinYear(t) - 150 - InLeapYear(t)    if MonthFromTime(t) = 5
                        = DayWithinYear(t) - 180 - InLeapYear(t)    if MonthFromTime(t) = 6
                        = DayWithinYear(t) - 211 - InLeapYear(t)    if MonthFromTime(t) = 7
                        = DayWithinYear(t) - 242 - InLeapYear(t)    if MonthFromTime(t) = 8
                        = DayWithinYear(t) - 272 - InLeapYear(t)    if MonthFromTime(t) = 9
                        = DayWithinYear(t) - 303 - InLeapYear(t)    if MonthFromTime(t) = 10
                        = DayWithinYear(t) - 333 - InLeapYear(t)    if MonthFromTime(t) = 11
</code></pre><h3 id="-">日期数字</h3>
<p>一个日期数字由1到31范围内的数字表示。
时间值<code>t</code>映射到月数的方法<code>DateFromTime(t)</code>的定义为：</p>
<pre><code>        DateFromTime(t) = DayWithinYear(t) + 1                      if MonthFromTime(t) = 0
                        = DayWithinYear(t) - 30                     if MonthFromTime(t) = 1
                        = DayWithinYear(t) - 58 - InLeapYear(t)     if MonthFromTime(t) = 2
                        = DayWithinYear(t) - 89 - InLeapYear(t)     if MonthFromTime(t) = 3
                        = DayWithinYear(t) - 119 - InLeapYear(t)    if MonthFromTime(t) = 4
                        = DayWithinYear(t) - 150 - InLeapYear(t)    if MonthFromTime(t) = 5
                        = DayWithinYear(t) - 180 - InLeapYear(t)    if MonthFromTime(t) = 6
                        = DayWithinYear(t) - 211 - InLeapYear(t)    if MonthFromTime(t) = 7
                        = DayWithinYear(t) - 242 - InLeapYear(t)    if MonthFromTime(t) = 8
                        = DayWithinYear(t) - 272 - InLeapYear(t)    if MonthFromTime(t) = 9
                        = DayWithinYear(t) - 303 - InLeapYear(t)    if MonthFromTime(t) = 10
                        = DayWithinYear(t) - 333 - InLeapYear(t)    if MonthFromTime(t) = 11
</code></pre><h3 id="week-day">Week Day</h3>
<p>The weekday for a particular time value <code>t</code> is defined as
<code>WeekDay(t)  = (Day(t) + 4) modulo 7</code>
A weekday value if 0 specifies Sunday; 1 specifies Monday; 2 specifies Tuesday;
3 specifies Wednesday; 4 specifies Thursday; 5 specifies Friday; and 6 specifies Saturday.
Note that WeekDay(0) = 4, corresponding to Thursday, 01 January, 1970.</p>
<h3 id="-">周 日</h3>
<p>给定时间值<code>t</code>的周几的规定为：
<code>WeekDay(t) = (Day(t) + 4) modulo 7</code>
一个周汁可以为，0代表周日，1代表周一，2代表周二，3代表周三，4代表周四，5代周五，6代表周六。
注意：<code>WeekDay(0) = 4</code>，1970年一月一日对应周四。</p>
<h3 id="local-time-zone-adjustment">Local Time Zone Adjustment</h3>
<p>An implementation of ECMAScript is expected to determine the local time zone adjustment.
The local time zone adjustment is a value localTZA measured in milliseconds which when added to UTC represents the local standard time.
Daylight saving time is not reflected by LocalTZA.
The value LocalTZA does not vary with time but depends only the geographic location.</p>
<h3 id="-">本地时区调整</h3>
<p>一个ECMAScript的实现希望确定本地时区调整。
当添加UTC代表本地标准时间时，本地时区调整是一个以毫秒衡量的值<code>localTZA</code>。
值<code>localTZA</code>不随时间彪悍，但取决于地理位置。</p>
<h3 id="daylight-saving-time-adjustment">Daylight Saving Time Adjustment</h3>
<p>An implementation of ECMAScript is expected to determine the daylight saving time algorithm.
The algorithm to determine the daylight saving time adjustment DaylightSavingTA(t),
measured in milliseconds,must depend only on four thing.
(1) the time since the beginning if the year
<code>t - TimeFromYear(YearFromTime(t))</code>
(2) whether <code>t</code> is in a leap year
<code>InLeapYear(t)</code>
(3) the week day of the beginning of the year
<code>WeekDay(TimeFromYear(YearFromTime(t)))</code>
and (4) the geographic location.</p>
<p>The implementation of ECMAScript should not try to determine whether the exact time was subject to daylight saving time.
but just whether daylight saving time would have been in effect if the current daylight saving time algorithm had been used at the time.
This avoids complications such as taking into account the years that the locale observed daylight saving time year round.</p>
<p>If the host environment provides functionality for determining daylight saving time.
the implementation of ECMAScript is free to map the year in question to an equivalent year
(same leap-year-ness and same starting week day for the year)
for which the host environment provides daylight saving time information.
The only restriction is that all equivalent years should produce the same result.</p>
<h2 id="-">#</h2>
</p></section></article></article></section>    </body>
</html>