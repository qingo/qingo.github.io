<!DOCTYPE html><html><head><meta charset='utf-8'/><meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no'><title></title><link rel='shortcut icon' href='/img/q.ico'></head><body><nav></nav><h1 id="-sniffer">$sniffer</h1>
<h2 id="-">根作用域服务</h2>
<h3 id="-">服务依赖</h3>
<ul>
<li>$window</li>
<li>$document</li>
</ul>
<h3 id="this-get-">this.$get函数</h3>
<pre><code>this.$get = [&#39;$window&#39;, &#39;$document&#39;, function ($window, $document) {
    return {
        history: !!($window.history &amp;&amp; $window.history.pushState &amp;&amp; !(android &lt; 4) &amp;&amp; !boxee),
        hashchange: &#39;onhashchange&#39; in $window &amp;&amp; (!documentMode || documentMode &gt; 7),
        hasEvent: function (event) {
            if (event == &#39;input&#39; &amp;&amp; msie == 9) return false;
            if (isUndefined(eventSupport[event])) {
                var divElm = document.createElement(&#39;div&#39;);
                eventSupport[event] = &#39;on&#39; + event in divElm;
            }
            return eventSupport[event];
        },
        csp: csp(),
        vendorPrefix: vendorPrefix,
        transitions: transitions,
        animations: animations,
        android: android,
        msie: msie,
        msieDocumentMode: documentMode
    };
}];
</code></pre><h3 id="-">问题</h3>
<p>csp是什么？
hashChange的兼容性</p>
</body></html>